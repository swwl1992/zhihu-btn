<html>
<head>
	<meta charset="UTF-8">
</head>
<body>
	<style>
	</style>
	<span class="zhihu-btn" id="zhihu-btn">
		<a class="zh-btn" id="zh-btn"></a>
		<span class="zh-count" id="zh-count" href="#"></span>
	</span>
	<script>
		 var params = (function() {
			var vars = [],
				hash;
			var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
			for (var i = 0; i < hashes.length; i++) {
				hash = hashes[i].split('=');
				vars.push(hash[0]);
				vars[hash[0]] = hash[1];
			}
			return vars;
		}());
		var counter = document.getElementById('zh-count'),
			btn = document.getElementById('zh-btn'),
			head = document.getElementsByTagName('head')[0],
			user = params.user;

		function jsonp(path, cbName) {
			var el = document.createElement('script');
			el.src = path + '?callback=' + (cbName ? cbName : 'callback');
			head.insertBefore(el, head.firstChild);
		}
		
		function callback(obj) {
			counter.innerHTML = obj.followers;
			btn.innerHTML = obj.name;
			btn.href = obj.url;
			btn.style.display = 'block';
		}
		
		jsonp('http://apps.wanwenli.com/zhihu-api/users/' + user);
	</script>
</body>
</html>